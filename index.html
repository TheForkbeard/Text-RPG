<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="assets/css/style.css">
<title>Adventure Text Game</title>
</head>
<body>
    <header></header>
    <section>

            <p id="output"></p>
            <input id="input" type="text" placeholder="Enter your action...">
            <button>Enter</button>

    </section>
    <footer></footer>

    <script>

        let map = [
            "A shop.",
            "A Stable",
            "A Tavern.",
            "A well",
            "A town green.",
            "A blacksmiths.",
            "A Positioned Bench.",
            "A wide entrance road.",
            "A large Forboding House."
        ];

        let mapLocation = 7;

        let playersInput = "";

        let gameMessage = "";

        let actionsIKnow = ["north", "east", "south", "west"];

        let action = "";

        let output = document.querySelector("#output");
        let input = document.querySelector("#input");

        let button = document.querySelector("button");
        button.style.cursor = "pointer";
        button.addEventListener("click", clickHandler, false);

        render();

        function clickHandler() {
            playGame();
        }

        function playGame() {
            playersInput = input.value;
            playersInput = playersInput.toLowerCase();

            gameMessage = "";
            action = "";

            for(i = 0; i < actionsIKnow.length; i++) {
                if(playersInput.indexOf(actionsIKnow[i]) !== -1) {
                    action = actionsIKnow[i];
                    console.log("player's action: " + action);
                    break;
                }
            }

            switch(action) {
                case "north": mapLocation -= 3;
                break;

                case "east": mapLocation += 1;
                break;

                case "south": mapLocation += 3;
                break;

                case "west": mapLocation -= 1;
                break;

                default: gameMessage = "I Don't Understand That!";
            }

            render();
        }

        function render() {
            output.innerHTML = map[mapLocation];
            output.innerHTML += "<br><em>" + gameMessage + "</em>";
        }


    </script>

</body>
</html>